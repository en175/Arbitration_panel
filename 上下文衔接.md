# 仲裁组庭 Demo 项目上下文衔接文档 (Context Handover)

> **适用场景**：开启新对话时，请让 AI 助手按顺序阅读并理解以下 3 份文档，再开始生成/回答，确保业务规则与产出一致：
> 1) `CONTEXT_HANDOVER.md`（本文件）
> 2) `需求文档/第四章-仲裁庭.md`（规则依据与期限口径）
> 3) `需求文档/新版仲裁组庭-PRD.md`（产品定义与流程节点）

**对话约定**
- AI 每次回答的第一句话必须称呼我为 **Yela**（用于校验是否脱离上下文）。

## 1. 项目概况
- **项目名称**：广州仲裁委·新版仲裁组庭
- **目标**：构建一个符合真实业务逻辑、具备“权威信赖风”UI 的仲裁组庭工作台演示原型。
- **技术栈**：Vue 3 + Vite（当前已集成 Element Plus，但组件选型不受其风格束缚）

## 2. 核心架构与设计

### 2.1 UI 设计风格
- **主题**：权威信赖风 (Authority & Trust)。
- **主色调**：
  - Primary (深蓝): `#1E3A8A` (用于顶栏、主按钮)
  - Accent (金色): `#B45309` (用于高亮、重要标签)
- **字体**：标题使用衬线体 (EB Garamond/Songti)，正文使用无衬线体。
- **布局**：
  1. **Top Bar**: 品牌标识 + 案件信息（案号 | 案由 | 标的额）。
  2. **Timeline**: 顶部固定横向滚动时间轴，展示 12 个关键节点。
  3. **Workspace**: 下方动态加载对应节点的业务组件。

### 2.2 数据与状态管理
- **文件**：`src/views/workbench/composables/useArbitration.js`
- **机制**：
  - `activeNodeId`: 当前查看的节点 ID（控制下方 Workspace 显示）。
  - `timelineNodes`: 包含 12 个节点的完整流程数据，每个节点包含状态 (`completed`, `in_progress`, `pending`) 和业务数据。
  - **全能视角**：不设登录页，用户通过点击时间轴节点即可查看不同角色的操作视图（如秘书核对、主任审批、当事人选定）。

### 2.3 组件与依赖选型
- **组件库/依赖**：可以优先引入合适的新库实现更好的体验与视觉效果，不受 Element Plus 的风格束缚。
- **约束**：引入前先确认项目内是否已有同类能力，避免重复引库；引入后确保 `npm run dev` 可正常运行与预览。

## 3. 已实现功能模块 (Nodes)

项目已完整实现 PRD 规划的 12 个核心节点，组件位于 `src/views/workbench/nodes/`：

| Node ID | 组件名 | 业务功能 | 状态 |
| :--- | :--- | :--- | :--- |
| **01** | `NodeStart.vue` | **组庭启动**：案件基本信息、处理记录 | ✅ 完成 |
| **02** | `NodeSelection.vue` | **组庭方式**：当事人选择（推荐名单/共同选定） | ✅ 完成 |
| **03** | `NodeNominate.vue` | **选定/提名**：双方提交选定结果展示 | ✅ 完成 |
| **04** | `NodeCheck.vue` | **材料核对**：秘书核对清单与结论 | ✅ 完成 |
| **05** | `NodeDisclosure.vue` | **披露与接受**：边裁披露声明与接受书预览 | ✅ 完成 |
| **06** | `NodeDirector.vue` | **主任决策**：路径选择（直接指定/名单推荐） | ✅ 完成 |
| **07** | `NodeDistribute.vue` | **发送名单**：推荐名单发送记录 | ✅ 完成 |
| **08** | `NodeRanking.vue` | **名单排序**：当事人对候选人拖拽排序 | ✅ 完成 |
| **09** | `NodeResult.vue` | **结果汇总**：系统计算排序匹配结果（中间态） | ✅ 完成 |
| **10** | `NodeConfirm.vue` | **人选确认**：主任确认最终首席人选 | ✅ 完成 |
| **11** | `NodeReview.vue` | **结果复核**：部门负责人审批组庭结果 | ✅ 完成 |
| **12** | `NodeFinish.vue` | **组庭完成**：生成通知书、归档 | ✅ 完成 |

## 4. 关键文件索引
- **入口页面**: `src/views/workbench/ArbitrationWorkbench.vue` (布局容器，负责调度 Timeline 和 Node 组件)
- **时间轴组件**: `src/views/workbench/components/HorizontalTimeline.vue`
- **全局样式**: `src/styles/theme-arbitration.css` (定义了 CSS Variables 和 Element Plus 覆盖样式)

## 5. 运行指南
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

## 6. 下一步建议
- 当前演示版已覆盖全流程核心 UI。
- 后续可根据需要添加更多交互细节（如“主任路径决策”中的生成名单算法模拟，或“结果汇总”的动态计算演示）。
